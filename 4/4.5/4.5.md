# 4.5. Módulo 5

# Caso de Uso: Liquidación de Saldos a Socios Deudores y Acreedores y Cierre de Socios en Claro Perú

### Descripción del Caso de Uso:
El sistema de Claro Perú gestiona la liquidación de saldos de socios deudores y acreedores tras la resolución de un contrato. El proceso incluye el bloqueo de códigos deudor/acreedor, la emisión de una pre liquidación, la gestión de observaciones, la emisión de la liquidación final y, finalmente, el cierre de la relación contractual. Este caso de uso garantiza que todos los saldos pendientes sean liquidados correctamente y que las garantías o comisiones se utilicen para compensar deudas cuando sea necesario.

### Actor(es):
- Distribuidor
- Analista de Créditos y Cobranzas de Claro Perú
- Equipo de Soporte Operacional y Comisiones
- Áreas Internas de Claro Perú (Recuperación de Clientes, Solución de Reclamos, Logística, etc.)

### Precondiciones:
- El contrato del socio distribuidor debe haber sido resuelto formalmente, ya sea por decisión del distribuidor, de Claro Perú o por mutuo acuerdo.
- Los códigos deudor/acreedor deben estar correctamente registrados y bloqueados en el sistema financiero de Claro Perú.
- El sistema debe tener acceso a la información financiera del distribuidor y sus cuentas asociadas.

### Postcondiciones:
- Se liquida el saldo del distribuidor, y cualquier saldo deudor/acreedor es compensado o devuelto.
- El distribuidor es dado de baja en el sistema, y los códigos deudor/acreedor son cerrados.
- Las garantías o comisiones se utilizan para compensar cualquier deuda pendiente si corresponde.

### Flujo Principal:

| Nro | Acción del Actor | Respuesta del Sistema |
|-----|------------------|-----------------------|
| 1   | El analista de Créditos y Cobranzas es notificado con la resolución del contrato. | El sistema registra la resolución del contrato e inicia el proceso de bloqueo de códigos deudor/acreedor. |
| 2   | El analista de Créditos y Cobranzas programa el bloqueo de los códigos deudor/acreedor. | El sistema bloquea los códigos y notifica a las áreas correspondientes del cierre del contrato. |
| 3   | El analista solicita la información de saldos pendientes a las áreas internas (Soporte Operacional, Comisiones, etc.). | El sistema envía solicitudes de información y compila los saldos pendientes de facturas, notas de débito/crédito, y comisiones. |
| 4   | El sistema recibe toda la información y emite la pre liquidación de saldos deudores y acreedores. | El sistema genera un documento de pre liquidación que incluye deudas, comisiones pendientes, garantías y otros conceptos relacionados. |
| 5   | El distribuidor recibe la pre liquidación y tiene un plazo de 60 días para presentar observaciones. | El sistema registra el envío de la pre liquidación y establece una alerta de plazo para recibir observaciones del distribuidor. |
| 6   | Si el distribuidor presenta observaciones debidamente sustentadas, el analista revisa y ajusta la pre liquidación. | El sistema actualiza la pre liquidación si las observaciones son válidas, y se notifica al distribuidor sobre los ajustes. |
| 7   | Si no se presentan observaciones, o tras los ajustes, el sistema emite la liquidación final después de 120 días. | El sistema genera la liquidación final, detallando los saldos definitivos deudores/acreedores. |
| 8   | El distribuidor recibe la liquidación final y tiene 5 días para realizar el pago de los saldos deudores. | El sistema registra el pago del distribuidor o la falta de este, activando los siguientes pasos según corresponda. |
| 9   | Si el distribuidor no realiza el pago, el sistema ejecuta las garantías y compensa la deuda con comisiones o fondos de garantía. | El sistema registra la ejecución de las garantías y ajusta los saldos pendientes. |
| 10  | Si existe saldo a favor del distribuidor tras la compensación, el sistema gestiona la devolución. | El sistema genera una nota de crédito o gestiona la devolución del saldo a favor. |
| 11  | El sistema finaliza el proceso y cierra los códigos deudor/acreedor, dando de baja al distribuidor en el sistema. | El sistema actualiza el estado del distribuidor a "Cerrado" y notifica a todas las áreas involucradas. |

## PROTOTIPO 

<div align="center">
<a>
    <img src="https://github.com/fiis-bd242/bd242-grupo6/blob/main/src/Prototipo%20Liquidaci%C3%B3n.png?raw=true" alt="Logo" width="450" style=" padding-right: 120px;">
</a>
</div>
